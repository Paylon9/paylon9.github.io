<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>TV Assistant</title>
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<div class="container">
		<div id="items" class="row">
			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 item text-center">Loading... </div>
		</div>
	</div>

	<script type="text/template" id="item-tpl">
		<a href="<%= route %>" class="updateItems">
			<div class="thumbnail">
				<img src="<%= img %>" alt="<%= title %>">
				<div class="caption text-center">
					<h4><%= title %></h4>
				</div>
			</div>
		</a>
	</script>

	<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
	<script type="text/javascript" src="bower_components/backbone/backbone-min.js"></script>

	<script type="text/javascript" src="js/models/item.js"></script>
	<script type="text/javascript" src="js/collections/items.js"></script>
	<script type="text/javascript" src="js/views/item.js"></script>
	<script type="text/javascript" src="js/views/items.js"></script>
	<script type="text/javascript" src="js/router.js"></script>


	<script type="text/javascript">
	$(function() {
		var itemsView = new ItemsView();
		var Router = Backbone.Router.extend({
		    routes: {
		        "": "urlFilter",
		        ":type": "urlFilter"
		    },

		    urlFilter: function (type) {
		    	if (!type) {
		    		itemsView.filterType = 'home';
		    	} else {
		        	itemsView.filterType = type;
		    	}
		        itemsView.trigger("change:filterType");
		    }
		});	
		var router = new Router();
		Backbone.history.start();
	})
	</script>	
</body>
</html>